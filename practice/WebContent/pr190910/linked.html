<!DOCTYPE html>
<html>
<head>
<script>
	function ListNode(input){
		this.data=input;
		this.next=null;
	}

	function LinkedList(){
		var head=null;
		
		this.append=function(input){
			var node=new ListNode(input);
			if(head===null){//최초
				head=node;
			}else{
				var current = head;
				while(current.next!==null){
					current=current.next;
				}
				current.next=node;
			}
			
		};
		this.print=function(){
			var result=[];
			if(head!==null){
				var current = head;
				while(current.next!==null){
					result.push(current.data);
					current=current.next;
				}
				result.push(current.data);			
			}
			console.log(result);
		};
		this.indexOf=function(input){
			var count=null;
			if(head!==null){
				var count=0;
				var current = head;
				while(current.next!==null){
					if(current.data===input){
						break;
					}
					current=current.next;
					count++;
				}
				if(current.data!==input){
					return null;
				}
			}
			return count;
		};
		this.removeAt=function(index){
			var prev = null;
			var current = head;
			
			if(head===null){
				return false;
			}
			
			if(index==0){
				head=current.next;
				return true;
			}

			for(var i=0; i<index; i++){
				if(current.next===null){
					break;
				}else{
					prev=current;
					current=current.next;					
				}
			}
			if(i==index){
				prev.next=current.next;
				return true;
			}else{
				return false;				
			}
		};
		this.insert=function(index,input){
			var node=new ListNode(input);
			if(index==0){
				node.next=head;
				head=node;
				return true;
			}
			
			var prev = null;
			var current = head;
			if(head===null){
				return false;
			}
			
			for(var i=0; i<index; i++){
				if(current.next===null){
					break;
				}else{
					prev=current;
					current=current.next;					
				}
			}
			if(i==index){
				node.next=current;
				prev.next=node;
				return true;
			}else{
				return false;				
			}
		}
	}

	function test(){
		var list = new LinkedList();
		list.append(15); // 맨뒤에 추가
		list.print();//[15]
		console.log(list.indexOf(15)); // value의 index를 리턴 //0
		list.append(10);
		list.print(); //[15,10]
		console.log(list.indexOf(10)); //1
		list.append(13);
		list.print(); //[15,10,13]
		console.log(list.indexOf(13)); //2
		console.log(list.indexOf(10)); //1
		list.append(11); 
		list.append(12);
		list.print(); //[15,10,13,11,12]
		console.log(list.removeAt(1)); // 특정 index를 삭제
		list.print() //[15,13,11,12]
		console.log(list.removeAt(3));
		list.print(); //[15,13,11]
		list.append(14); 
		list.print(); //[15,13,11,14]
		list.insert(0,16); // 특정 index에 추가
		list.print(); //[16,15,13,11,14]
		list.insert(1,17);
		list.print(); //[16,17,15,13,11,14]
	}
</script>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<input type="button" value="Linked" onClick="test()" />
</body>
</html>